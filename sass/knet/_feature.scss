// Feature
// =======

$feature-shadow : $feature-shadow-color,
                  transparent $feature-shadow-size;
$feature-grad   : color(-25% lighter $blue),
                  color(-50% lighter $blue),
                  color(-50% lighter $green),
                  color(-25% light $blue);

.feature {
  @extend %container;
  @include pie-clearfix;
  @include rhythm-padding(3.5,3);
  @include background(
    linear-gradient(to top, $feature-shadow...) no-repeat scroll,
    linear-gradient(to bottom right, $feature-grad...) no-repeat fixed
  );
}

.intro {
  @extend %large-title;
  @include trailer(2.5);
  text-shadow: color(white,.5) 0 1px 0;
  text-align: center;
}

// Feature Links
// -------------

$feature-offset: 3%;

.feature-links { @include pad(rhythm(1)); }

.feature-title { @extend %sub-title; }

.feature-block {
  @include rhythm-borders(1px, 1.5);
  @include box-shadow($base 0 0 3px inset);
  float: left;
  width: span(percentage(1/3) - $feature-offset);
  margin-right: -200%;
  background: color(white, .8);
  border-color: $base;

  &.pyo {
    @include border-left-radius(rhythm(.25));
    border-right: 0;
  }

  &.consult {
    @include adjust-font-size-to($medpx);
    @include leader(-1);
    @include h-borders(1px, 2);
    @include box-shadow($base 0 0 6px);
    @include transition(all 300ms);
    position: relative;
    width: span(percentage(1/3) + ($feature-offset * 2));
    margin-left: percentage(1/3) - $feature-offset;
    background: color(white, .85);
    color: $accent;
    z-index: 10;

    #{$focus} {
      @include scale(1.1);
      background: white;
    }
  }

  &.tcs {
    @include border-right-radius(rhythm(.25));
    float: right;
    margin-right: 0;
    border-left: 0;
  }
}
