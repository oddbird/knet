// Stories
// =======

.no-stories-message {
  @include serif;
  @include rhythm-padding(2);
  @include adjust-font-size-to($largepx);
  color: color(lighter);
  text-align: center;
}

.toggle-addstory-body {
  @extend %toggle-addstory;
  @include leader;
  @include adjust-font-size-to($xxxlargepx);
  min-height: px-to-rhythm($xxxlargepx);

  #{$focus} { color: $alt; }
}


// Story
// -----

%story-status {
  @include adjust-font-size-to($smallpx);
  @include border-radius(.25em);
  position: absolute;
  top: 0;
  left: 0;
  padding: 0 .5em;
}

@mixin story-status-icon(
  $icon,
  $color: $alt
) {
  @include icon($icon) {
    @extend %story-status;
    background: $color;
    color: contrast($color, white color(darkest));
  }
}

.story {
  @include pie-clearfix;
  @include rhythm-margins;
  @include gallery(5 isolate);
  position: relative;

  &.hidden { @include story-status-icon(eye-blocked, $yellow); }
  &.private { @include story-status-icon(lock, color(lighter)); }
  &.hidden.private { @include before($icon-lock); }
}

// Story Body
// ----------

@mixin story-body-status(
  $status,
  $color
) {
  .#{$status} & {
    border-color: $color;
    &:before { border-top-color: $color; }
  }
}

.story-body {
  @include trailer(.5);
  @include rhythm-borders(2px,1);
  @include border-radius(.25em);
  @include arrow(bottom rhythm(.25) rhythm(.5) $alt);
  border-color: $alt;

  @include story-body-status('hidden', $yellow);
  @include story-body-status('private', color(lighter));
}

// Story Info
// ----------

.story-info {
  @include adjust-font-size-to($smallpx);
  float: left;
  width: 50%;

  &:last-child {
    float: none;
    width: auto;
  }
}

.author-name, .pubdate { display: inline-block; }
.author-name { font-weight: bold; }
.pubdate { color: color(light); }

// Story Actions
// -------------

.story-actions {
  text-align: right;
}

%story-action {
  padding: 0 rhythm(.25);
  color: color(light);
}

.story-private-notice {
  @include adjust-font-size-to($smallpx);
  display: inline-block;
  color: color(lighter);

  @include icon(lock) { padding-right: .4em; }
}

.story-status {
  @extend %story-action;
  @include icon-replace(eye);

  #{$focus} { color: $alt; }

  &.hide {
    @include before($icon-eye-blocked);
    #{$focus} { color: $yellow; }
  }
}

.delete-story {
  @extend %story-action;
  @include icon-replace(remove);

  #{$focus} { color: $red; }
}
